<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expérience Audio Interactive</title>
    <style>
        :root {
            --bg-color: #121212;
            --text-color: #e0e0e0;
            --accent-color: #bb86fc;
            --section-bg: #1e1e1e;
            --hover-color: #bb86fc;
            --active-color: #3700b3;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--bg-color);
            margin: 0;
            padding: 20px;
            max-width: 1000px;
            margin: 0 auto;
        }
        h1, h2 {
            color: var(--accent-color);
        }
        h2 {
            margin-top: 30px;
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        section {
            background-color: var(--section-bg);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }
        .audio-line {
            padding: 10px;
            margin: 8px 0;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            padding-left: 20px;
        }
        .audio-line::before {
            content: "▶";
            position: absolute;
            left: 5px;
            color: var(--accent-color);
            font-size: 0.8em;
        }
        .audio-line:hover {
            background-color: rgba(187, 134, 252, 0.1);
            transform: translateX(5px);
        }
        .audio-line.playing {
            background-color: rgba(187, 134, 252, 0.15);
            border-left: 3px solid var(--accent-color);
            font-weight: bold;
        }
        #stopButton {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 12px 24px;
            background-color: #cf6679;
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            z-index: 100;
        }
        #stopButton:hover {
            background-color: #b00020;
            transform: translateY(-2px);
        }
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            section {
                padding: 15px;
            }
            h2 {
                font-size: 1.2em;
            }
        }
    </style>
</head>
<body>
    <h1>Expérience Audio Interactive</h1>
    
    <!-- Introduction -->
    <section id="intro-audio">
        <h2>🧙‍♂️ Introduction</h2>
        <div class="audio-line" data-audio="audio/intro.mp3">
            « Ah voilà donc les médiums. Vous m’avez réveillé… et j’ai faim d’histoires, de secrets, de choix… et peut-être même de chair ? Mais restons civilisés, voulez-vous ? J’ai un jeu à vous proposer. Une énigme... Un sortilège… presque oublié. Le Comte du château a été mordu. Une morsure sombre, tissée d’ombre et de crocs. Depuis, la bête gronde en lui. Elle gratte. Elle griffe. Elle attend. Et si vous ne l’arrêtez pas… elle sortira. Heureusement pour vous — ou pour lui — un rituel peut le sauver. Mais il vous faudra les bons objets, ceux que seuls les morts osent encore évoquer. »
        </div>
    </section>
    
    <!-- Réflexion des joueurs -->
    <section id="reflection-audio">
        <h2>🤔 Réflexion des joueurs</h2>
        <div class="audio-line" data-audio="audio/reflexion1.mp3">« Quelqu’un parmi vous doute. Je le sens. Et ce doute a du flair, lui. »</div>
        <div class="audio-line" data-audio="audio/reflexion2.mp3">« Oh, continuez donc à débattre. Plus vous parlez, plus la bête s’éveille… »</div>
        <div class="audio-line" data-audio="audio/reflexion3.mp3">« Oh, vous vous fiez à vos visions ? Ces pauvres illusions… Si fragiles, si manipulables… »</div>
        <div class="audio-line" data-audio="audio/reflexion4.mp3">« Vous croyez maîtriser l’invisible, mais l’invisible maîtrise vos peurs. »</div>
        <div class="audio-line" data-audio="audio/reflexion5.mp3">« Écoutez le silence : c’est là que se cache la vérité… ou le mensonge. »</div>
    </section>
    
    <!-- Exploration de la salle au trésor -->
    <section id="exploration-audio">
        <h2>🔎 Exploration de la salle au trésor</h2>
        <div class="audio-line" data-audio="audio/exploration1.mp3">« Vos mains tremblent. Ce n’est pas la peur, c’est l’intuition… qui crie que vous vous trompez. »</div>
        <div class="audio-line" data-audio="audio/exploration2.mp3">« Ah… pensez-vous vraiment que ces objets dont vous parlez soient les bons ? Ou simplement… les plus rassurants ? »</div>
        <div class="audio-line" data-audio="audio/exploration3.mp3">« La pénombre vous chuchote des promesses, mais peut-être est-ce un piège. »</div>
        <div class="audio-line" data-audio="audio/exploration4.mp3">« Chaque pas que vous faites creuse un peu plus votre propre tombe. »</div>
        <div class="audio-line" data-audio="audio/exploration5.mp3">« Oserez-vous toucher ce que votre instinct vous interdit ? »</div>
    </section>
    
    <!-- Pose des objets sur l'autel -->
    <section id="placement-audio">
        <h2>🛐 Pose des objets sur l’autel</h2>
        <div class="audio-line" data-audio="audio/placement1.mp3">« Intéressant… Vous avez choisi ceci ? Et vous laisserez cela de côté ? Fascinant… »</div>
        <div class="audio-line" data-audio="audio/placement2.mp3">« Oh… un choix audacieux. Et si c’était précisément ce que j’attendais ? »</div>
        <div class="audio-line" data-audio="audio/placement3.mp3">« Ces choix sont comme des ombres projetées : flous, imprévisibles. »</div>
        <div class="audio-line" data-audio="audio/placement4.mp3">« Je savoure cette hésitation… elle est délicieuse. »</div>
        <div class="audio-line" data-audio="audio/placement5.mp3">« Chaque objet éveille un souvenir, une sensation… et parfois un regret. »</div>
    </section>
    
    <!-- Changement par le Voleur -->
    <section id="thief-audio">
        <h2>🃏 Intervention du Voleur</h2>
        <div class="audio-line" data-audio="audio/thief1.mp3">« Vous entendez ? Ce n’est pas le vent… c’est l’objet rejeté qui pleure d’être oublié… »</div>
        <div class="audio-line" data-audio="audio/thief2.mp3">« Vous les sentez donc à l’égal de ces pierres anciennes que les héros vous ont donné ?, à les abandonner sans remords ? »</div>
        <div class="audio-line" data-audio="audio/thief3.mp3">« Le temps presse, et chaque seconde vous éloigne un peu plus de la lumière. »</div>
        <div class="audio-line" data-audio="audio/thief4.mp3">« Sentez-vous ce gémissement sourd ? C’est votre destin qui se fissure. »</div>
        <div class="audio-line" data-audio="audio/thief5.mp3">« Adieu espoir, adieu sérénité… et bonjour la damnation. »</div>
    </section>
    
    <!-- Verdict final -->
    <section id="verdict-audio">
        <h2>🎯 Verdict du rituel</h2>
        <div class="audio-line" data-audio="audio/success.mp3">✅ Réussite : « Quelle… surprise. Vous avez percé les ombres. Les objets sont justes. Le rituel est accompli. Vous pouvez aller chercher l’objet… le remède qui se trouve aux fontaines. »</div>
        <div class="audio-line" data-audio="audio/fail1a.mp3">⚠️ Échec partiel : « C’était… presque touchant. Un leurre parmi les vérités... À un souffle près… vous y étiez. »</div>
        <div class="audio-line" data-audio="audio/fail1b.mp3">❌ Échec après pouvoir du voleur : « Trop tard. Trop faux. Trop faible. Le comte n’est plus qu’une bête. Et vous, des témoins du désastre. »</div>
        <div class="audio-line" data-audio="audio/fail2.mp3">☠️ Échec total : « Non, non, non… Ce n’est pas un rituel. C’est une offrande. Une offrande à la bête qui sommeille… et qui maintenant s’éveille. »</div>
    </section>

    <button id="stopButton">⏹️ Arrêter le son</button>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const lines = document.querySelectorAll('.audio-line');
            const stopBtn = document.getElementById('stopButton');
            let currentAudio = null;
            let currentElem = null;

            const stopAudio = () => {
                if (currentAudio) {
                    currentAudio.pause();
                    currentAudio.currentTime = 0;
                    currentAudio = null;
                }
                if (currentElem) {
                    currentElem.classList.remove('playing');
                    currentElem = null;
                }
            };

            lines.forEach(el => {
                el.addEventListener('click', () => {
                    const src = el.dataset.audio;
                    if (currentElem === el && currentAudio && !currentAudio.paused) {
                        return stopAudio();
                    }
                    stopAudio();
                    currentAudio = new Audio(src);
                    currentAudio.play().catch(err => console.error(err));
                    currentElem = el;
                    el.classList.add('playing');
                    currentAudio.onended = stopAudio;
                    currentAudio.onerror = () => {
                        alert('Erreur de chargement du fichier audio : ' + src);
                        stopAudio();
                    };
                });
                el.addEventListener('mouseenter', () => el.classList.add('active'));
                el.addEventListener('mouseleave', () => el.classList.remove('active'));
            });
            stopBtn.addEventListener('click', stopAudio);
            document.addEventListener('keydown', e => { if (e.key === 'Escape') stopAudio(); });
        });
    </script>
</body>
</html>
