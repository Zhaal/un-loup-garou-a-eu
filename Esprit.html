<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ExpÃ©rience Audio Interactive</title>
    <style>
        :root {
            --bg-color: #121212;
            --text-color: #e0e0e0;
            --accent-color: #bb86fc;
            --section-bg: #1e1e1e;
            --hover-color: #bb86fc;
            --active-color: #3700b3;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--bg-color);
            margin: 0;
            padding: 20px;
            max-width: 1000px;
            margin: 0 auto;
        }
        h1, h2 {
            color: var(--accent-color);
        }
        h2 {
            margin-top: 30px;
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        section {
            background-color: var(--section-bg);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }
        .audio-line {
            padding: 10px;
            margin: 8px 0;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            padding-left: 20px;
        }
        .audio-line::before {
            content: "â–¶";
            position: absolute;
            left: 5px;
            color: var(--accent-color);
            font-size: 0.8em;
        }
        .audio-line:hover {
            background-color: rgba(187, 134, 252, 0.1);
            transform: translateX(5px);
        }
        .audio-line.playing {
            background-color: rgba(187, 134, 252, 0.15);
            border-left: 3px solid var(--accent-color);
            font-weight: bold;
        }
        #stopButton {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 12px 24px;
            background-color: #cf6679;
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            z-index: 100;
        }
        #stopButton:hover {
            background-color: #b00020;
            transform: translateY(-2px);
        }
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            section {
                padding: 15px;
            }
            h2 {
                font-size: 1.2em;
            }
        }
    </style>
</head>
<body>
    <h1>ExpÃ©rience Audio Interactive</h1>
    
    <!-- Introduction -->
    <section id="intro-audio">
        <h2>ğŸ§™â€â™‚ï¸ Introduction</h2>
        <div class="audio-line" data-audio="audio/intro.mp3">
            Â« Ah voilÃ  donc les mÃ©diums. Vous mâ€™avez rÃ©veillÃ©â€¦ et jâ€™ai faim dâ€™histoires, de secrets, de choixâ€¦ et peut-Ãªtre mÃªme de chair ? Mais restons civilisÃ©s, voulez-vous ? Jâ€™ai un jeu Ã  vous proposer. Une Ã©nigme... Un sortilÃ¨geâ€¦ presque oubliÃ©. Le Comte du chÃ¢teau a Ã©tÃ© mordu. Une morsure sombre, tissÃ©e dâ€™ombre et de crocs. Depuis, la bÃªte gronde en lui. Elle gratte. Elle griffe. Elle attend. Et si vous ne lâ€™arrÃªtez pasâ€¦ elle sortira. Heureusement pour vous â€” ou pour lui â€” un rituel peut le sauver. Mais il vous faudra les bons objets, ceux que seuls les morts osent encore Ã©voquer. Â»
        </div>
    </section>
    
    <!-- RÃ©flexion des joueurs -->
    <section id="reflection-audio">
        <h2>ğŸ¤” RÃ©flexion des joueurs</h2>
        <div class="audio-line" data-audio="audio/reflexion1.mp3">Â« Quelquâ€™un parmi vous doute. Je le sens. Et ce doute a du flair, lui. Â»</div>
        <div class="audio-line" data-audio="audio/reflexion2.mp3">Â« Oh, continuez donc Ã  dÃ©battre. Plus vous parlez, plus la bÃªte sâ€™Ã©veilleâ€¦ Â»</div>
        <div class="audio-line" data-audio="audio/reflexion3.mp3">Â« Oh, vous vous fiez Ã  vos visions ? Ces pauvres illusionsâ€¦ Si fragiles, si manipulablesâ€¦ Â»</div>
        <div class="audio-line" data-audio="audio/reflexion4.mp3">Â« Vous croyez maÃ®triser lâ€™invisible, mais lâ€™invisible maÃ®trise vos peurs. Â»</div>
        <div class="audio-line" data-audio="audio/reflexion5.mp3">Â« Ã‰coutez le silence : câ€™est lÃ  que se cache la vÃ©ritÃ©â€¦ ou le mensonge. Â»</div>
    </section>
    
    <!-- Exploration de la salle au trÃ©sor -->
    <section id="exploration-audio">
        <h2>ğŸ” Exploration de la salle au trÃ©sor</h2>
        <div class="audio-line" data-audio="audio/exploration1.mp3">Â« Vos mains tremblent. Ce nâ€™est pas la peur, câ€™est lâ€™intuitionâ€¦ qui crie que vous vous trompez. Â»</div>
        <div class="audio-line" data-audio="audio/exploration2.mp3">Â« Ahâ€¦ pensez-vous vraiment que ces objets dont vous parlez soient les bons ? Ou simplementâ€¦ les plus rassurants ? Â»</div>
        <div class="audio-line" data-audio="audio/exploration3.mp3">Â« La pÃ©nombre vous chuchote des promesses, mais peut-Ãªtre est-ce un piÃ¨ge. Â»</div>
        <div class="audio-line" data-audio="audio/exploration4.mp3">Â« Chaque pas que vous faites creuse un peu plus votre propre tombe. Â»</div>
        <div class="audio-line" data-audio="audio/exploration5.mp3">Â« Oserez-vous toucher ce que votre instinct vous interdit ? Â»</div>
    </section>
    
    <!-- Pose des objets sur l'autel -->
    <section id="placement-audio">
        <h2>ğŸ› Pose des objets sur lâ€™autel</h2>
        <div class="audio-line" data-audio="audio/placement1.mp3">Â« IntÃ©ressantâ€¦ Vous avez choisi ceci ? Et vous laisserez cela de cÃ´tÃ© ? Fascinantâ€¦ Â»</div>
        <div class="audio-line" data-audio="audio/placement2.mp3">Â« Ohâ€¦ un choix audacieux. Et si câ€™Ã©tait prÃ©cisÃ©ment ce que jâ€™attendais ? Â»</div>
        <div class="audio-line" data-audio="audio/placement3.mp3">Â« Ces choix sont comme des ombres projetÃ©es : flous, imprÃ©visibles. Â»</div>
        <div class="audio-line" data-audio="audio/placement4.mp3">Â« Je savoure cette hÃ©sitationâ€¦ elle est dÃ©licieuse. Â»</div>
        <div class="audio-line" data-audio="audio/placement5.mp3">Â« Chaque objet Ã©veille un souvenir, une sensationâ€¦ et parfois un regret. Â»</div>
    </section>
    
    <!-- Changement par le Voleur -->
    <section id="thief-audio">
        <h2>ğŸƒ Intervention du Voleur</h2>
        <div class="audio-line" data-audio="audio/thief1.mp3">Â« Vous entendez ? Ce nâ€™est pas le ventâ€¦ câ€™est lâ€™objet rejetÃ© qui pleure dâ€™Ãªtre oubliÃ©â€¦ Â»</div>
        <div class="audio-line" data-audio="audio/thief2.mp3">Â« Vous les sentez donc Ã  lâ€™Ã©gal de ces pierres anciennes que les hÃ©ros vous ont donnÃ© ?, Ã  les abandonner sans remords ? Â»</div>
        <div class="audio-line" data-audio="audio/thief3.mp3">Â« Le temps presse, et chaque seconde vous Ã©loigne un peu plus de la lumiÃ¨re. Â»</div>
        <div class="audio-line" data-audio="audio/thief4.mp3">Â« Sentez-vous ce gÃ©missement sourd ? Câ€™est votre destin qui se fissure. Â»</div>
        <div class="audio-line" data-audio="audio/thief5.mp3">Â« Adieu espoir, adieu sÃ©rÃ©nitÃ©â€¦ et bonjour la damnation. Â»</div>
    </section>
    
    <!-- Verdict final -->
    <section id="verdict-audio">
        <h2>ğŸ¯ Verdict du rituel</h2>
        <div class="audio-line" data-audio="audio/success.mp3">âœ… RÃ©ussite : Â« Quelleâ€¦ surprise. Vous avez percÃ© les ombres. Les objets sont justes. Le rituel est accompli. Vous pouvez aller chercher lâ€™objetâ€¦ le remÃ¨de qui se trouve aux fontaines. Â»</div>
        <div class="audio-line" data-audio="audio/fail1a.mp3">âš ï¸ Ã‰chec partiel : Â« Câ€™Ã©taitâ€¦ presque touchant. Un leurre parmi les vÃ©ritÃ©s... Ã€ un souffle prÃ¨sâ€¦ vous y Ã©tiez. Â»</div>
        <div class="audio-line" data-audio="audio/fail1b.mp3">âŒ Ã‰chec aprÃ¨s pouvoir du voleur : Â« Trop tard. Trop faux. Trop faible. Le comte nâ€™est plus quâ€™une bÃªte. Et vous, des tÃ©moins du dÃ©sastre. Â»</div>
        <div class="audio-line" data-audio="audio/fail2.mp3">â˜ ï¸ Ã‰chec total : Â« Non, non, nonâ€¦ Ce nâ€™est pas un rituel. Câ€™est une offrande. Une offrande Ã  la bÃªte qui sommeilleâ€¦ et qui maintenant sâ€™Ã©veille. Â»</div>
    </section>

    <button id="stopButton">â¹ï¸ ArrÃªter le son</button>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const lines = document.querySelectorAll('.audio-line');
            const stopBtn = document.getElementById('stopButton');
            let currentAudio = null;
            let currentElem = null;

            const stopAudio = () => {
                if (currentAudio) {
                    currentAudio.pause();
                    currentAudio.currentTime = 0;
                    currentAudio = null;
                }
                if (currentElem) {
                    currentElem.classList.remove('playing');
                    currentElem = null;
                }
            };

            lines.forEach(el => {
                el.addEventListener('click', () => {
                    const src = el.dataset.audio;
                    if (currentElem === el && currentAudio && !currentAudio.paused) {
                        return stopAudio();
                    }
                    stopAudio();
                    currentAudio = new Audio(src);
                    currentAudio.play().catch(err => console.error(err));
                    currentElem = el;
                    el.classList.add('playing');
                    currentAudio.onended = stopAudio;
                    currentAudio.onerror = () => {
                        alert('Erreur de chargement du fichier audio : ' + src);
                        stopAudio();
                    };
                });
                el.addEventListener('mouseenter', () => el.classList.add('active'));
                el.addEventListener('mouseleave', () => el.classList.remove('active'));
            });
            stopBtn.addEventListener('click', stopAudio);
            document.addEventListener('keydown', e => { if (e.key === 'Escape') stopAudio(); });
        });
    </script>
</body>
</html>
